<!doctype html>
<html lang="it">
<head>
	<meta charset="UTF-8">
	<title>Moduli</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.1/jquery.mobile-1.4.1.min.css" />
	<script src="http://code.jquery.com/jquery-1.10.2.min.js"></script>
	<script src="http://code.jquery.com/mobile/1.4.1/jquery.mobile-1.4.1.min.js"></script>
	<link rel="stylesheet" href="css/base.css" />
	<link rel="stylesheet" href="css/moduli.css" />
</head>
<body>
	<div data-role="page">
		<div data-role="header">
			<a href="index.html">Home</a>
			<img src="icon/red-oddity.jpg" alt="il logo di redoddity" style="width:150px">
		</div>
		<div class="ui-content" >
			<div data-role="collapsibleset" data-inset="false" id="contenuto">
				
			</div>
		</div>
				<script>
					
					$('[data-role="page"]').on('pagebeforecreate', function(){
						
						$.getJSON('json/moduli.json', function(data){
							console.log(data);
							var n = data.length
							console.log(n);
							var i =0;
							for (i = 0; i < n; i++) {
								var content = "";
								console.log(data[i]['nome']);

								content += "<div data-role='collapsible'>";
								content += "<h2>"+data[i]['nome']+"</h2>";
								content += "<h3>Descrizione</h3>";
								content += "<p>"+data[i]['descrizione']+"</p>";
								content += "<h3>Docenti</h3>";
								content += "<ul>";
								var j = 0;
								var nm = data[i]['docenti'].length;
								for (j = 0; j<nm; j++){
									content += '<li>' + data[i]['docenti'][j].cognome + data[i]['docenti'][j].nome + '</li>';
								}
								content += "</ul>";
								content += "<h3>Ore</h3>";
								content += "<p>"+data[i]['numeroOre']+"</p>";
								// content += "<ul>";

								// $.each(data.docenti[i].links, function(key, value){
								// 	console.log("questa è la key " + key);

								// 	console.log("questa è la value " + value);
								// 	content += "<li>" + key + ": " + value + "</li>";
								// })

								// content += "</ul>";
								content += "</div>";
								$('#contenuto').append(content).collapsibleset('refresh');
							};
						});
					});
				</script>
	</div>
</body>
</html>
